(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.videojsResponsiveLayout=e()}})(function(){var e,t,n;return function i(u,a,l){function s(n,e){if(!a[n]){if(!u[n]){var t=typeof require=="function"&&require;if(!e&&t)return t(n,!0);if(f)return f(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[n]={exports:{}};u[n][0].call(o.exports,function(e){var t=u[n][1][e];return s(t?t:e)},o,o.exports,i,u,a,l)}return a[n].exports}var f=typeof require=="function"&&require;for(var e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,n){},{}],2:[function(e,t,n){var r=e("./throttle");t.exports=function(e,t,n){return n===undefined?r(e,t,false):r(e,n,t!==false)}},{"./throttle":4}],3:[function(e,t,n){t.exports={throttle:e("./throttle"),debounce:e("./debounce")}},{"./debounce":2,"./throttle":4}],4:[function(e,t,n){var r=e("jquery");t.exports=function(i,u,a,l){var s;var f=0;if(typeof u!=="boolean"){l=a;a=u;u=undefined}function e(){var e=this;var t=Number(new Date)-f;var n=arguments;function r(){f=Number(new Date);a.apply(e,n)}function o(){s=undefined}if(l&&!s){r()}if(s){clearTimeout(s)}if(l===undefined&&t>i){r()}else if(u!==true){s=setTimeout(l?o:r,l===undefined?i-t:i)}}if(r&&r.guid){e.guid=a.guid=a.guid||r.guid++}return e}},{jquery:1}],5:[function(h,v,p){(function(e){"use strict";Object.defineProperty(p,"__esModule",{value:true});var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=typeof window!=="undefined"?window["videojs"]:typeof e!=="undefined"?e["videojs"]:null;var i=n(o);var u=h("throttle-debounce").debounce;var a={debounceDelay:200,layoutMap:[{layoutClassName:"vjs-layout-tiny",width:2},{layoutClassName:"vjs-layout-x-small",width:3},{layoutClassName:"vjs-layout-small",width:4},{layoutClassName:"defaults",width:5}]};var l=function e(t){var n=t.offsetWidth;var r=getComputedStyle(t);n+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10);return n};var s=function e(t){return parseInt(getComputedStyle(t).width,10)};var f=function e(t){return t.offsetWidth>0||t.offsetHeight>0};var d=function u(){var a=function e(n){var r=n.player.el();var t=n.options.layoutMap[n.currentLayout_];if(t.layoutClassName!=="defaults"){i["default"].addClass(r,t.layoutClassName)}n.options.layoutMap.forEach(function(e,t){if(t!==n.currentLayout_&&e.layoutClassName!=="defaults"){i["default"].removeClass(r,e.layoutClassName)}})};var e=function e(t,n,r,o){var i=t.options.layoutMap;if(r>n&&t.currentLayout_>0){t.currentLayout_--;a(t);window.setTimeout(u.bind(t),1)}else if(t.currentLayout_<i.length-1&&n>=i[t.currentLayout_+1].width*o){t.currentLayout_++;a(t);window.setTimeout(u.bind(t),1)}};if(!this.el||this.player.usingNativeControls()||!f(this.el.querySelectorAll(".vjs-control-bar")[0])){return}var t=this.getPlayerWidth();var n=this.getControlWidth();var r=this.getControlBarWidth();if(this.options.calculateLayout){this.options.calculateLayout(this,t,r,n)}else{e(this,t,r,n)}};var c=function(){function n(e,t){r(this,n);this.player_=e;this.options_=t;this.currentLayout_=t.layoutMap.length-1;this.debouncedCheckSize_=u(t.debounceDelay,d)}t(n,[{key:"ready",value:function e(){var t=this;this.player.addClass("vjs-responsive-layout");this.windowResizeListener_=window.addEventListener("resize",function(){return t.debouncedCheckSize_()});this.player.on(["play","resize"],function(){return t.debouncedCheckSize_()});this.player.on("dispose",function(){window.removeEventListener("resize",this.windowResizeListener_)});this.player.trigger("resize")}},{key:"getControlWidth",value:function e(){return l(this.el.querySelectorAll(".vjs-play-control")[0])}},{key:"getControlBarWidth",value:function e(){var t=0;var n=this.el.querySelectorAll(".vjs-control-bar > *");Array.from(n).forEach(function(e){if(f(e)){t+=l(e)}});return t}},{key:"getPlayerWidth",value:function e(){return s(this.el)}},{key:"player",get:function e(){return this.player_}},{key:"el",get:function e(){return this.player_.el()}},{key:"options",get:function e(){return this.options_}}],[{key:"getElementOuterWidth",value:function e(t){return l(t)}},{key:"getElementWidth",value:function e(t){return s(t)}},{key:"isElementVisible",value:function e(t){return f(t)}}]);return n}();var y=function e(t){var n=new c(this,i["default"].mergeOptions(a,t));this.ready(function(){n.ready()})};i["default"].plugin("responsiveLayout",y);p["default"]=y;v.exports=p["default"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"throttle-debounce":3}]},{},[5])(5)});