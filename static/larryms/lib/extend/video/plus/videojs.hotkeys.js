(function(e,r){if(typeof window!=="undefined"&&window.videojs){r(window.videojs)}else if(typeof define==="function"&&define.amd){define("videojs-hotkeys",["video.js"],function(e){return r(e.default||e)})}else if(typeof module!=="undefined"&&module.exports){module.exports=r(require("video.js"))}})(this,function(A){"use strict";if(typeof window!=="undefined"){window["videojs_hotkeys"]={version:"0.2.22"}}var e=function(v){var m=this;var y=m.el();var d=document;var e={volumeStep:.1,seekStep:5,enableMute:true,enableVolumeScroll:true,enableFullscreen:true,enableNumbers:true,enableJogStyle:false,alwaysCaptureHotkeys:false,enableModifiersForNumbers:true,enableInactiveFocus:true,skipInitialFocus:false,playPauseKey:c,rewindKey:s,forwardKey:f,volumeUpKey:E,volumeDownKey:I,muteKey:N,fullscreenKey:P,customKeys:{}};var p=1,b=2,h=3,w=4,k=5,K=6,S=7;var r=A.mergeOptions||A.util.mergeOptions;v=r(e,v||{});var F=v.volumeStep,t=v.seekStep,q=v.enableMute,n=v.enableVolumeScroll,T=v.enableFullscreen,j=v.enableNumbers,g=v.enableJogStyle,x=v.alwaysCaptureHotkeys,M=v.enableModifiersForNumbers,i=v.enableInactiveFocus,u=v.skipInitialFocus;if(!y.hasAttribute("tabIndex")){y.setAttribute("tabIndex","-1")}y.style.outline="none";if(x||!m.autoplay()){if(!u){m.one("play",function(){y.focus()})}}if(i){m.on("userinactive",function(){var t=function(){clearTimeout(e)};var e=setTimeout(function(){m.off("useractive",t);var e=d.activeElement;var r=y.querySelector(".vjs-control-bar");if(e&&e.parentElement==r){y.focus()}},10);m.one("useractive",t)})}m.on("play",function(){var e=y.querySelector(".iframeblocker");if(e&&e.style.display===""){e.style.display="block";e.style.bottom="39px"}});var o=function e(r){var t=r.which,i,n;var u=r.preventDefault;var o=m.duration();if(m.controls()){var l=d.activeElement;if(x||l==y||l==y.querySelector(".vjs-tech")||l==y.querySelector(".vjs-control-bar")||l==y.querySelector(".iframeblocker")){switch(D(r,m)){case p:u();if(x){r.stopPropagation()}if(m.paused()){m.play()}else{m.pause()}break;case b:i=!m.paused();u();if(i){m.pause()}n=m.currentTime()-O(r);if(n<=0){n=0}m.currentTime(n);if(i){m.play()}break;case h:i=!m.paused();u();if(i){m.pause()}n=m.currentTime()+O(r);if(n>=o){n=i?o-.001:o}m.currentTime(n);if(i){m.play()}break;case k:u();if(!g){m.volume(m.volume()-F)}else{n=m.currentTime()-1;if(m.currentTime()<=1){n=0}m.currentTime(n)}break;case w:u();if(!g){m.volume(m.volume()+F)}else{n=m.currentTime()+1;if(n>=o){n=o}m.currentTime(n)}break;case K:if(q){m.muted(!m.muted())}break;case S:if(T){if(m.isFullscreen()){m.exitFullscreen()}else{m.requestFullscreen()}}break;default:if(t>47&&t<59||t>95&&t<106){if(M||!(r.metaKey||r.ctrlKey||r.altKey)){if(j){var a=48;if(t>95){a=96}var c=t-a;u();m.currentTime(m.duration()*c*.1)}}}for(var s in v.customKeys){var f=v.customKeys[s];if(f&&f.key&&f.handler){if(f.key(r)){u();f.handler(m,v,r)}}}}}}};var l=function e(r){if(m.controls()){var t=r.relatedTarget||r.toElement||d.activeElement;if(t==y||t==y.querySelector(".vjs-tech")||t==y.querySelector(".iframeblocker")){if(T){if(m.isFullscreen()){m.exitFullscreen()}else{m.requestFullscreen()}}}}};var a=function e(r){if(m.controls()){var t=d.activeElement;if(x||t==y||t==y.querySelector(".vjs-tech")||t==y.querySelector(".iframeblocker")||t==y.querySelector(".vjs-control-bar")){if(n){r=window.event||r;var i=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));r.preventDefault();if(i==1){m.volume(m.volume()+F)}else if(i==-1){m.volume(m.volume()-F)}}}}};var D=function e(r,t){if(v.playPauseKey(r,t)){return p}if(v.rewindKey(r,t)){return b}if(v.forwardKey(r,t)){return h}if(v.volumeUpKey(r,t)){return w}if(v.volumeDownKey(r,t)){return k}if(v.muteKey(r,t)){return K}if(v.fullscreenKey(r,t)){return S}};function c(e){return e.which===32||e.which===179}function s(e){return e.which===37||e.which===177}function f(e){return e.which===39||e.which===176}function E(e){return e.which===38}function I(e){return e.which===40}function N(e){return e.which===77}function P(e){return e.which===70}function O(e){return typeof t==="function"?t(e):t}m.on("keydown",o);m.on("dblclick",l);m.on("mousewheel",a);m.on("DOMMouseScroll",a);return this};var r=A.registerPlugin||A.plugin;r("hotkeys",e)});