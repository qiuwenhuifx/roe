layui.define(function(e){var n=function(e,t){if(!(this instanceof n))return new n(e,t);this.options=this.extend({noPrint:".no-print"},t);if(typeof e==="string"){this.dom=document.querySelector(e)}else{this.dom=e}this.init()};n.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t){e[n]=t[n]}return e},getStyle:function(){var e="",t=document.querySelectorAll("style,link");for(var n=0;n<t.length;n++){e+=t[n].outerHTML}e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>";return e},getHtml:function(){var e=document.querySelectorAll("input");var t=document.querySelectorAll("textarea");var n=document.querySelectorAll("select");for(var i in e){if(e[i].type=="checkbox"||e[i].type=="radio"){if(e[i].checked==true){e[i].setAttribute("checked","checked")}else{e[i].removeAttribute("checked")}}else if(e[i].type=="text"){e[i].setAttribute("value",e[i].value)}}for(var o in t){if(t[o].type=="textarea"){t[o].innerHTML=t[o].value}}for(var r in n){if(n[r].type=="select-one"){var c=n[r].children;for(var l in c){if(c[l].tagName=="OPTION"){if(c[l].selected==true){c[l].setAttribute("selected","selected")}else{c[l].removeAttribute("selected")}}}}}return this.dom.outerHTML},writeIframe:function(e){var t,n,i=document.createElement("iframe"),o=document.body.appendChild(i);i.id="myIframe";i.style="position:absolute;width:0;height:0;top:-10px;left:-10px;";t=o.contentWindow||o.contentDocument;n=o.contentDocument||o.contentWindow.document;n.open();n.write(e);n.close();this.toPrint(t);setTimeout(function(){document.body.removeChild(i)},100)},toPrint:function(t){try{setTimeout(function(){t.focus();try{if(!t.document.execCommand("print",false,null)){t.print()}}catch(e){t.print()}t.close()},10)}catch(e){console.log("err",e)}}};window.Print=n;e("Print",n)});